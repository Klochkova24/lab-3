0. Был склонирован репозиторий с 3 лабораторной работой.
1. Виртуальная машина Oracle VM VirtualBox уже была установлена. Также на ней была установлена ОС Windows 10 для других учебных дисциплин (рисунок 1).
   ![image](https://github.com/Klochkova24/lab-3/assets/91188482/b0916ca4-b558-45f9-b76b-c85f3256b3c8)
      Рисунок 1 - Oracle VirtualBox
2. На все виртуальные машины была установлена Ubuntu 24.04 (рисунок 2). В силу небольшой мощности ноутбука и ОЗУ была произведена установка ОС только в виде Command Line Interface, так как в GUI не было необходимости.
   ![image](https://github.com/Klochkova24/lab-3/assets/91188482/f3da9d93-3b72-4aeb-b96e-c3d1e54148d1)
   Рисунок 2 - Версия ОС
3. На рисунке 3 видно диалоговое окно при создании первой виртуальной машины Ubuntu-A.
   ![image](https://github.com/Klochkova24/lab-3/assets/91188482/0c4518cc-d173-4197-878e-56fda86da067)
   Рисунок 3 - Создание Ubuntu-A   
4. Далее был создан пользователь для первой ОС (рисунок 4).
   ![image](https://github.com/Klochkova24/lab-3/assets/91188482/6b0c2f5c-cdd5-4e7f-bbcc-a84d75524f6c)
   Рисунок 4 - Создание пользователя на Ubuntu-A
5. После чего была проверка работы: через CLI был создан файл с приветствием и выведено его содержимое в консоль. Всё работает корректно.
   ![image](https://github.com/Klochkova24/lab-3/assets/91188482/3f547959-45b7-4f87-8de7-773656855687)
   Рисунок 5 - Hello, world в качестве теста
6. Далее в диалоговом окне VirtualBox была клонирована Ubuntu-A (рисунок 6).
   ![image](https://github.com/Klochkova24/lab-3/assets/91188482/034ad220-fc38-4f7b-8309-3c778a1dd65c)
   Рисунок 6 - Клонирование первой ОС
7. Таким образом получили вторую машину с именем Ubuntu-B (рисунок 7).
   ![image](https://github.com/Klochkova24/lab-3/assets/91188482/d22c0566-1c6a-4b78-ac86-398fe025cc4f)
   Рисунок 7 - Клонирование виртуальной машины
8. Аналогичным способом было проведено клонирование для создания третьей машины (рисунок 8).
   ![image](https://github.com/Klochkova24/lab-3/assets/91188482/2e68ae82-d6de-4d62-8db7-ede697963942)
   Рисунок 8 - Клонирование виртуальной машины
9. Так как при клонированиии был выбран параметр "Full clone" (рисунок 9), имена серверов во всех трёх машинах одинаковы: lisa-ubuntu-a, это не приведёт ни к каким конфликтам и не повлияет на результат.
   ![image](https://github.com/Klochkova24/lab-3/assets/91188482/db580fb0-e495-4a8d-9ab7-73f85460c7db)
   Рисунок 9 - Параметр клонирования
10. Далее по заданию необходимо проверить доступ к интернету у машины А и приложить скриншот. На рисунке 10 виден результат использования утилиты ping.
    ![image](https://github.com/Klochkova24/lab-3/assets/91188482/4d3db250-e184-4451-a428-791c4becdd11)
    Рисунок 10 - Машина А имеет доступ в интернет
11. Для обеспечения доступа между машинами необходимо настроить адаптеры виртуальных машин. По умолчанию для настройки сети используется NAT. Режим NAT подменяет ip-адреса виртуальных машин (серые ip-адреса) и внешняя сеть видит запрос от виртуальных машин как будто это запрос от ОС хоста. Если же нужно сделать все узлы сети самостоятельными, можно использовать режим Bridged Adapter: в этом случае хост (в моём случае Debian 12) и все виртуальные машины объединяются в одну сеть и запросы во внешние сети идут от каждого узла напрямую, без подмены ip. В данном случае был выбран Bridged Adapter, чтобы каждая виртуальная машина эмулировала работу полноценного компьютера. На рисунке 11 представлены сетевые настройки адаптера 1 для машины Ubuntu_A: так как соединение идёт через Wi-Fi роутер с именем адаптера wlp4s0, были выбраны именно эти настройки. Для машин Ubuntu_b и Ubuntu_С были выбраны такие же параметры.
    ![image](https://github.com/Klochkova24/lab-3/assets/91188482/b74afe88-f125-4e44-bc4d-396b240b39e3)
    Рисунок 11 - Настройки сетевого подключения виртуальной машины Ubuntu_A
12. Далее при проверке выданных ip-адресов виртуальным машинам возникла проблема: все три машины получили одинаковые ip-адреса 192.168.0.178 (рисунок 12). Машина В к этому времени зависла и не получилось разместить все 3 машины на одном экране. Но даже 2 машины с одинаковыми адресами не позволили бы дальнейшее выполнение лабораторной работы.
    ![image](https://github.com/Klochkova24/lab-3/assets/91188482/d4c4b7f8-cb89-4b40-b0c2-5ed1796f38c0)
    Рисунок 12 - Машины А и С имеют одинаковые ip-адреса
13. Это произошло, потому что машины B и C создавались клонированием машины А, из-за чего у всех трёх машин одинаковый machine-id. Для того, чтобы машины получали разные ip-адреса мало было изменить им MAC - адрес, надо у машин В и С сменить machine-id. На рисунке 13 приведены команды для того, чтобы удалить старый id и создать новый для машины С. Аналогично был создан новый id для машины В.
    ![image](https://github.com/Klochkova24/lab-3/assets/91188482/69cc7844-94e6-411a-9146-b5f4d58d22e1)
    Рисунок 13 - Создание нового machine-id
14. Машины были перезапущены и на рисунке 14 видны новые ip-адреса для всех трёх машин: теперь они разные. У машины А - 192.168.0.178, у машины В - 192.168.0.10, у машины С - 192.168.0.241.
    ![image](https://github.com/Klochkova24/lab-3/assets/91188482/a790d681-e516-4351-8f4c-3449d1587484)
    Рисунок 14 - Выданные ip-адреса
15. На рисунках 15 - 17 представлены скриншоты, на которых видно, что все машины связаны между собой. Проверка проводилась утилитой ping.
    ![image](https://github.com/Klochkova24/lab-3/assets/91188482/0a0322c7-fb30-4c46-9f3e-80380c0dc434)
    Рисунок 15 - Машина А имеет доступ к машинам В и С
    ![image](https://github.com/Klochkova24/lab-3/assets/91188482/f0308118-706c-40dc-ab2a-c103050fe1ee)
    Рисунок 16 - Машина В имеет доступ к машинам А и С
    ![image](https://github.com/Klochkova24/lab-3/assets/91188482/33251692-c23d-4ce3-9411-4354df76b8bb)
    Рисунок 17 - Машина С имеет доступ к машина А и В
16. Для того, чтобы запретить доступ из машины В в машину С, была использована утилита iptables для машины С, представленная на рисунке 18. Было создано правило, запрещающее входные (INPUT) запросы от машины В (192.168.0.10).
    ![image](https://github.com/Klochkova24/lab-3/assets/91188482/1eb51d21-be66-4a3f-a840-62860b5ac640)
    Рисунок 18 - Запрет доступа от машины В к машине С
17. На рисунке 19 представлены терминалы всех трёх виртуальных машин. Видно, что машина А имеет доступ к машинам В и С, машина С имеет доступ к машинам А и В, машина В имеет доступ к машине А, но не имеет доступа к машине С (отправлены 7 пакетов запросов, ни один не доставлен, все потеряны).
    ![image](https://github.com/Klochkova24/lab-3/assets/91188482/1b7f46f7-457c-4d3c-86ac-3664094e65bf)
    Рисунок 19 - Терминалы всех трёх виртуальных машин










   


   

   

   







